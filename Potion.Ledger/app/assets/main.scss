@use "vuetify/styles";

/* =========================================
   Potion Ledger — Creepy Witchy Theme
   ========================================= */

:root {
  /* Palette */
  --pl-bg0: #07060a;   /* night ink */
  --pl-bg1: #0b0a12;   /* deep violet */
  --pl-card: rgba(16, 12, 24, 0.78);
  --pl-border: rgba(190, 255, 199, 0.12);
  --pl-text: rgba(245, 244, 255, 0.92);
  --pl-muted: rgba(245, 244, 255, 0.68);

  --pl-accent: #9dffb0;   /* ghost mint */
  --pl-accent2: #b78bff;  /* witch violet */
  --pl-danger: #ff5a7a;   /* cursed rose */
  --pl-warn: #ffd56b;     /* candle gold */

  /* Shadows */
  --pl-shadow: 0 18px 50px rgba(0, 0, 0, 0.55);
}

/* Global background “moonlit fog” */
html, body {
  margin: 0;
  padding: 0;
  color: var(--pl-text);
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(157, 255, 176, 0.08), transparent 55%),
    radial-gradient(900px 700px at 85% 25%, rgba(183, 139, 255, 0.09), transparent 55%),
    radial-gradient(700px 500px at 40% 90%, rgba(255, 90, 122, 0.06), transparent 60%),
    linear-gradient(180deg, var(--pl-bg0), var(--pl-bg1));
  overflow-x: hidden;
}

/* Subtle drifting fog using a pseudo layer */
body::before {
  content: "";
  position: fixed;
  inset: -60px;
  pointer-events: none;
  background:
    radial-gradient(120px 90px at 20% 30%, rgba(255,255,255,0.045), transparent 60%),
    radial-gradient(160px 110px at 70% 40%, rgba(255,255,255,0.035), transparent 65%),
    radial-gradient(200px 140px at 40% 70%, rgba(255,255,255,0.03), transparent 70%);
  filter: blur(14px);
  opacity: 0.8;
  animation: pl-fog 18s ease-in-out infinite alternate;
}

@keyframes pl-fog {
  from { transform: translate3d(-12px, -8px, 0) scale(1.02); }
  to   { transform: translate3d(16px, 12px, 0) scale(1.05); }
}

/* Vuetify surfaces look too “daytime” by default; tint them */
.v-application {
  background: transparent !important;
  color: var(--pl-text);
}

/* Make common text defaults readable even if Vuetify theme vars drift */
a { color: var(--pl-accent); }
a:hover { color: rgba(157, 255, 176, 0.85); }

/* Inputs: ensure field text/labels are high-contrast on dark surfaces */
.v-field,
.v-field__input,
.v-label,
.v-messages,
.v-input__details {
  color: var(--pl-text) !important;
}

.v-field__outline,
.v-field__overlay {
  opacity: 1;
}

.v-field--variant-outlined .v-field__outline {
  --v-field-border-opacity: 0.28;
}

/* Tables */
.v-table,
.v-table .v-table__wrapper {
  color: var(--pl-text) !important;
}

.v-table thead th {
  color: rgba(245, 244, 255, 0.86) !important;
}

.v-card {
  background: var(--pl-card) !important;
  border: 1px solid var(--pl-border) !important;
  box-shadow: var(--pl-shadow);
  backdrop-filter: blur(8px);
}

.v-divider {
  opacity: 0.22;
}

/* Buttons: arcane glow */
.v-btn {
  border-radius: 14px !important;
}

.v-btn--variant-outlined {
  border-color: rgba(157, 255, 176, 0.25) !important;
}

.v-btn--variant-text {
  color: rgba(245, 244, 255, 0.86) !important;
}

.v-btn--variant-elevated,
.v-btn--variant-flat {
  box-shadow: 0 10px 26px rgba(0,0,0,0.35) !important;
}

/* Chips: little runes */
.v-chip {
  border-radius: 999px !important;
}

/* App bar: “coven console” */
.v-app-bar {
  background: rgba(10, 8, 16, 0.72) !important;
  border-bottom: 1px solid rgba(183, 139, 255, 0.18) !important;
  backdrop-filter: blur(10px);
}

/* =========================================
   Potion Ledger page-specific classes
   ========================================= */

.pl-card {
  position: relative;
  overflow: hidden;
}

/* A faint sigil behind the play area */
.pl-card::after {
  content: "";
  position: absolute;
  inset: -40px;
  pointer-events: none;
  background:
    radial-gradient(220px 220px at 30% 30%, rgba(183, 139, 255, 0.08), transparent 65%),
    radial-gradient(220px 220px at 70% 55%, rgba(157, 255, 176, 0.07), transparent 65%);
  transform: rotate(-6deg);
  opacity: 0.9;
}

.pl-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.pl-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.pl-title {
  margin: 0;
  letter-spacing: 0.4px;
  text-shadow: 0 0 18px rgba(183, 139, 255, 0.12);
}

.pl-sub {
  margin: 6px 0 0;
  color: var(--pl-muted);
}

.pl-muted { color: var(--pl-muted); }

.pl-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

.pl-panel h3,
.pl-h {
  margin: 0 0 10px;
  letter-spacing: 0.2px;
}

.pl-chips {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.pl-chipval { margin-left: 6px; }

.pl-orders {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.pl-orderTop {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
}

.pl-orderName {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.pl-req {
  opacity: 0.82;
  margin-top: 8px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.pl-chipRow {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}

.pl-log {
  margin: 0;
  padding-left: 18px;
}

.pl-modal {
  background:
    radial-gradient(600px 220px at 15% 0%, rgba(157, 255, 176, 0.08), transparent 60%),
    radial-gradient(600px 220px at 85% 0%, rgba(183, 139, 255, 0.10), transparent 60%),
    var(--pl-card) !important;
}

.pl-modalTitle { margin: 0 0 10px; }
.pl-modalOutcome {
  font-weight: 900;
  font-size: 1.35rem;
  margin-bottom: 10px;
  text-shadow: 0 0 18px rgba(157, 255, 176, 0.12);
}

/* App container sizing */
.pl-container {
  max-width: 1040px;
}

/* Page transitions */
.page-enter-active, .page-leave-active {
  transition: opacity 180ms ease, transform 180ms ease;
}
.page-enter-from { opacity: 0; transform: translateY(6px); }
.page-leave-to { opacity: 0; transform: translateY(-6px); }

/* Drawer / footer subtle polish */
.pl-drawer {
  background: rgba(10, 8, 16, 0.92) !important;
  border-right: 1px solid rgba(183, 139, 255, 0.18) !important;
}
.pl-footer {
  background: rgba(10, 8, 16, 0.52) !important;
  border-top: 1px solid rgba(190, 255, 199, 0.12) !important;
  backdrop-filter: blur(10px);
}

/* Cauldron animation (extra credit) */
.pl-cauldronWrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 18px;
  border: 1px solid rgba(190, 255, 199, 0.14);
  background: rgba(16, 12, 24, 0.35);
  margin-bottom: 12px;
  overflow: hidden;
}

.pl-cauldron {
  position: relative;
  width: 90px;
  height: 70px;
  border-radius: 20px 20px 26px 26px;
  border: 2px solid rgba(245, 244, 255, 0.18);
  background: rgba(0, 0, 0, 0.25);
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
}

.pl-rim {
  position: absolute;
  left: 8px;
  right: 8px;
  top: 8px;
  height: 10px;
  border-radius: 999px;
  border: 2px solid rgba(245, 244, 255, 0.16);
}

.pl-liquid {
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: 10px;
  height: 30px;
  border-radius: 16px;
  background:
    radial-gradient(20px 16px at 30% 30%, rgba(255,255,255,0.10), transparent 70%),
    linear-gradient(135deg, rgba(157,255,176,0.55), rgba(183,139,255,0.45));
  filter: saturate(1.1);
  animation: pl-liquid 2.2s ease-in-out infinite;
}

@keyframes pl-liquid {
  0%,100% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
}

.pl-bubbles { position: absolute; inset: 0; pointer-events: none; }
.pl-bubble {
  position: absolute;
  bottom: 16px;
  left: 18px;
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(245,244,255,0.18);
  box-shadow: 0 0 14px rgba(157,255,176,0.18);
  animation: pl-bubble 1.8s ease-in-out infinite;
}
.pl-bubble:nth-child(2) { left: 34px; animation-duration: 1.6s; animation-delay: .2s; width: 6px; height: 6px; }
.pl-bubble:nth-child(3) { left: 52px; animation-duration: 2.0s; animation-delay: .4s; width: 10px; height: 10px; }
.pl-bubble:nth-child(4) { left: 64px; animation-duration: 1.7s; animation-delay: .15s; width: 7px; height: 7px; }
.pl-bubble:nth-child(5) { left: 24px; animation-duration: 2.1s; animation-delay: .55s; width: 9px; height: 9px; }
.pl-bubble:nth-child(6) { left: 44px; animation-duration: 1.5s; animation-delay: .35s; width: 5px; height: 5px; }
.pl-bubble:nth-child(7) { left: 58px; animation-duration: 1.9s; animation-delay: .25s; width: 6px; height: 6px; }

@keyframes pl-bubble {
  0% { transform: translateY(0) scale(0.9); opacity: 0.0; }
  25% { opacity: 0.55; }
  60% { opacity: 0.25; }
  100% { transform: translateY(-22px) scale(1.1); opacity: 0.0; }
}

.pl-feet { position: absolute; left: 14px; right: 14px; bottom: -6px; display: flex; justify-content: space-between; }
.pl-feet span { width: 10px; height: 8px; border-radius: 0 0 10px 10px; background: rgba(245,244,255,0.16); }

/* Reaction pulses */
.pl-cauldronWrap[data-anim='brewOk'] .pl-cauldron,
.pl-cauldronWrap[data-anim='stir'] .pl-cauldron {
  animation: pl-pop 650ms ease-out 1;
}
.pl-cauldronWrap[data-anim='brewFail'] .pl-cauldron {
  animation: pl-shake 520ms ease-out 1;
}
.pl-cauldronWrap[data-anim='brewOk'] .pl-liquid { filter: saturate(1.35) brightness(1.08); }
.pl-cauldronWrap[data-anim='brewFail'] .pl-liquid {
  background:
    radial-gradient(20px 16px at 30% 30%, rgba(255,255,255,0.08), transparent 70%),
    linear-gradient(135deg, rgba(255,90,122,0.55), rgba(183,139,255,0.45));
}
.pl-cauldronWrap[data-anim='dilute'] .pl-liquid { filter: brightness(1.05) contrast(1.05); }

@keyframes pl-pop {
  0% { transform: scale(1); }
  40% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
@keyframes pl-shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  50% { transform: translateX(3px); }
  75% { transform: translateX(-2px); }
  100% { transform: translateX(0); }
}

/* Responsive improvements */
@media (min-width: 900px) {
  .pl-grid { grid-template-columns: 1fr 1fr 1fr; }
  .pl-orders { grid-template-columns: 1fr 1fr; }
}
